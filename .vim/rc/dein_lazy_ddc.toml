# --------------------------------------
# ddc.vim
#
[[plugins]]
# https://note.com/dd_techblog/n/n97f2b6ca09d8
repo = 'Shougo/ddc.vim'
if = "has('nvim')"
on_event = ['InsertEnter']
depends = ['denops.vim']
hook_source = '''
call ddc#custom#patch_global('sources', [
  \   'around',
  \   'vim-lsp',
  \ ])
call ddc#custom#patch_global('sourceOptions', {
  \   '_': {
  \     'matchers': ['matcher_head'],
  \     'sorters': ['sorter_rank'],
  \     'converters': ['converter_remove_overlap'],
  \   },
  \   'around': {
  \     'mark': 'Around',
  \   },
  \   'vim-lsp': {
  \     'mark': 'LSP',
  \     'matchers': ['matcher_head'],
  \     'forceCompletionPattern': '\.|:|->|"\w+/*',
  \   },
  \ })
call ddc#enable()
'''

[[plugins]]
repo = 'Shougo/ddc-around'
on_source = ['ddc.vim']

[[plugins]]
repo = 'Shougo/ddc-converter_remove_overlap'
on_source = ['ddc.vim']

[[plugins]]
repo = 'Shougo/ddc-matcher_head'
on_source = ['ddc.vim']

[[plugins]]
repo = 'Shougo/ddc-sorter_rank'
on_source = ['ddc.vim']

# --------------------------------------
# LSP
#
[[plugins]]
repo = 'prabirshrestha/vim-lsp'

[[plugins]]
# https://zenn.dev/mattn/articles/b83f9d94202914
repo = 'mattn/vim-lsp-settings'
hook_source = '''
let g:lsp_settings_global_settings_dir = expand('~/.cache/vim-lsp-settings')
let g:lsp_settings_servers_dir = expand('~/.cache/vim-lsp-settings/servers')
'''
